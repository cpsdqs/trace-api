!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";r(1);var n=r(2);try{var a=r(23);a&&Object.assign(n,a)}catch(t){}t.exports=n,"undefined"!=typeof window&&(window.Trace=n)},function(t,e){"use strict";"function"!=typeof window.CanvasRenderingContext2D.prototype.resetTransform&&(window.CanvasRenderingContext2D.prototype.resetTransform=function(){this.setTransform(1,0,0,1,0,0)})},function(t,e,r){"use strict";t.exports={AnimatedBoolean:r(3),AnimatedColor:r(5),AnimatedNumber:r(12),AnimatedString:r(13),AnimatedValue:r(4),Easing:r(10),Object:r(14),Timeline:r(21),Transform:r(19),Utils:r(20),Viewport:r(22)}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(4);t.exports=function(t){function e(t){n(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.interpolator=e.interpolator,r}return o(e,t),i(e,null,[{key:"interpolator",value:function(t,e,r){var n=-(1/0),a=1/0,o=!0,i=!1,l=void 0;try{for(var s,c=e.keys()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value;f<=t&&f>n&&(n=f),f>t&&f<a&&(a=f)}}catch(t){i=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw l}}return Number.isFinite(n)||Number.isFinite(a)?Number.isFinite(n)?u.resolveKey(e,n,r)[0]:u.resolveKey(e,a,r)[0]:r}}]),e}(u)},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(t,e,r){return r},o=function(){function t(e){r(this,t),this.defaultValue=e,this.keys=new Map,this.interpolator=a,this.interpolatorSettings={}}return n(t,[{key:"getValue",value:function(e,r){return t.applyInterpolator(this,e,r)}},{key:"addKey",value:function(t,e,r,n){this.keys.set(t,[e,{function:r,parameters:n}])}},{key:"removeKey",value:function(t){this.keys.delete(t)}}],[{key:"resolveKey",value:function(e,r,n){if(e.get(r)&&e.get(r)[0]===t.PREV_KEY){var a=-(1/0),o=void 0,i=!0,u=!1,l=void 0;try{for(var s,c=e.keys()[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var f=s.value;f<r&&f>a&&(a=f,o=e.get(f))}}catch(t){u=!0,l=t}finally{try{!i&&c.return&&c.return()}finally{if(u)throw l}}return o?o:n}return e.get(r)}},{key:"applyInterpolator",value:function(t,e,r){return t.interpolator(e,t.keys,t.defaultValue,r,t.interpolatorSettings)}}]),t}();o.PREV_KEY=Symbol("Previous Key"),t.exports=o},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(6),s=r(4),c=r(10);t.exports=function(t){function e(t){a(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.interpolator=e.interpolator,r}return i(e,t),u(e,null,[{key:"interpolator",value:function(t,e,r){var a=-(1/0),o=1/0,i=!0,u=!1,f=void 0;try{for(var h,M=e.keys()[Symbol.iterator]();!(i=(h=M.next()).done);i=!0){var p=h.value;p<=t&&p>a&&(a=p),p>t&&p<o&&(o=p)}}catch(t){u=!0,f=t}finally{try{!i&&M.return&&M.return()}finally{if(u)throw f}}var m=s.resolveKey(e,a,r),d=s.resolveKey(e,o,r),v=m?l(m[0])||l([0,0,0,0]):null,b=d?l(d[0])||l([0,0,0,0]):null;if(!Number.isFinite(a)&&!Number.isFinite(o))return r;if(!Number.isFinite(a))return b.toRgbString();if(!Number.isFinite(o))return v.toRgbString();var y=v.toRgbaArray()||[0,0,0,0],x=b.toRgbaArray()||[0,0,0,0],S=(t-a)/(o-a),I=(d[1].function||c.linear).apply(void 0,[S].concat(n(d[1].parameters||[]))),g=[0,0,0,0];for(var w in g)g[w]=(x[w]-y[w])*I+y[w];return l(g).toRgbString()}}]),e}(s)},function(t,e,r){"use strict";var n=r(7),a=r(8)(),o=function t(e){if(!(this instanceof t))return new t(e);if("string"==typeof e){var r,a=/^#([0-9a-fA-F]{6}(?:[0-9a-fA-F]{2})?)$/,o=/^#([0-9a-fA-F]{3}[0-9a-fA-F]?)$/,i=/^rgb\(\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*\)$/,u=/^rgba\(\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*,\s*([0-9]+%?)\s*,\s*([0-1]|0?\.[0-9]+)\s*\)$/,l=/^hsl\(\s*([0-9]+)\s*,\s*([0-9]+)%\s*,\s*([0-9]+)%\s*\)$/,s=/^hsla\(\s*([0-9]+)\s*,\s*([0-9]+)%\s*,\s*([0-9]+)%\s*,\s*([0-1]|0?\.[0-9]+)\s*\)$/;if(r=n[e])return this.fromRgb(r);if(r=a.exec(e)){for(var i=[],c=0;c<r[1].length/2;c++)i[c]=parseInt(r[1].slice(2*c,2*c+2),16);return 4==i.length?(i[3]=(i[3]/255).toPrecision(1),this.fromRgba(i)):this.fromRgb(i)}if(r=o.exec(e)){for(var i=[],c=0;c<r[1].length;c++)i[c]=parseInt(r[1][c]+r[1][c],16);return 4==i.length?(i[3]=(i[3]/255).toPrecision(1),this.fromRgba(i)):this.fromRgb(i)}if(r=i.exec(e)){var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return r[1].indexOf("%")>-1&&(i[0]=255*i[0]/100),r[2].indexOf("%")>-1&&(i[1]=255*i[1]/100),r[3].indexOf("%")>-1&&(i[2]=255*i[2]/100),this.fromRgb(i)}if(r=u.exec(e)){var u=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3]),parseFloat(r[4])];return r[1].indexOf("%")>-1&&(u[0]=255*u[0]/100),r[2].indexOf("%")>-1&&(u[1]=255*u[1]/100),r[3].indexOf("%")>-1&&(u[2]=255*u[2]/100),this.fromRgba(u)}if(r=l.exec(e)){var l=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return this.fromHsl(l)}if(r=s.exec(e)){var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3]),parseFloat(r[4])];return this.fromHsla(s)}}if(Array.isArray(e)){if(e.length<3)throw new Error("Insufficient number of parameters");this.values=[Math.min(parseInt(e[0]),255),Math.min(parseInt(e[1]),255),Math.min(parseInt(e[2]),255),parseFloat(e[3]||1)]}};o.prototype={fromRgba:function(t){return new o(t)},fromHsla:function(t){var e=a.hsl(t).rgb();return e[3]=t[3],this.fromRgba(e)},fromRgb:function(t){return t[3]=1,this.fromRgba(t)},fromHsl:function(t){return t[3]=1,this.fromHsla(t)},toRgbString:function(){var t=this.values;return 1===t[3]?"rgb("+t[0]+", "+t[1]+", "+t[2]+")":"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},toHslString:function(){var t=a.rgb(this.values).hsl();return 1===this.values[3]?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+this.values[3]+")"},toHexString:function(){var t="#",e=this.values[0].toString(16),r=this.values[1].toString(16),n=this.values[2].toString(16),a=parseInt(255*this.values[3]).toString(16);return 1==e.length&&(e="0"+e),1==r.length&&(r="0"+r),1==n.length&&(n="0"+n),1==a.length&&(a="0"+a),t+=e+r+n,"ff"!==a&&(t+=a),t},toRgbaArray:function(){return this.values},toHslaArray:function(){var t=a.rgb(this.values).hsl();return t[3]=this.values[3],t}},t.exports=o},function(t,e){"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(t,e,r){"use strict";var n=r(9),a=function(){return new s};for(var o in n){a[o+"Raw"]=function(t){return function(e){return"number"==typeof e&&(e=Array.prototype.slice.call(arguments)),n[t](e)}}(o);var i=/(\w+)2(\w+)/.exec(o),u=i[1],l=i[2];a[u]=a[u]||{},a[u][l]=a[o]=function(t){return function(e){"number"==typeof e&&(e=Array.prototype.slice.call(arguments));var r=n[t](e);if("string"==typeof r||void 0===r)return r;for(var a=0;a<r.length;a++)r[a]=Math.round(r[a]);return r}}(o)}var s=function(){this.convs={}};s.prototype.routeSpace=function(t,e){var r=e[0];return void 0===r?this.getValues(t):("number"==typeof r&&(r=Array.prototype.slice.call(e)),this.setValues(t,r))},s.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},s.prototype.getValues=function(t){var e=this.convs[t];if(!e){var r=this.space,n=this.convs[r];e=a[r][t](n),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){s.prototype[t]=function(e){return this.routeSpace(t,arguments)}}),t.exports=a},function(t,e){"use strict";function n(t){var e,r,n,a=t[0]/255,o=t[1]/255,i=t[2]/255,u=Math.min(a,o,i),l=Math.max(a,o,i),s=l-u;return l==u?e=0:a==l?e=(o-i)/s:o==l?e=2+(i-a)/s:i==l&&(e=4+(a-o)/s),e=Math.min(60*e,360),e<0&&(e+=360),n=(u+l)/2,r=l==u?0:n<=.5?s/(l+u):s/(2-l-u),[e,100*r,100*n]}function a(t){var e,r,n,a=t[0],o=t[1],i=t[2],u=Math.min(a,o,i),l=Math.max(a,o,i),s=l-u;return r=0==l?0:s/l*1e3/10,l==u?e=0:a==l?e=(o-i)/s:o==l?e=2+(i-a)/s:i==l&&(e=4+(a-o)/s),e=Math.min(60*e,360),e<0&&(e+=360),n=l/255*1e3/10,[e,r,n]}function o(t){var e=t[0],r=t[1],a=t[2],o=n(t)[0],i=1/255*Math.min(e,Math.min(r,a)),a=1-1/255*Math.max(e,Math.max(r,a));return[o,100*i,100*a]}function i(t){var e,r,n,a,o=t[0]/255,i=t[1]/255,u=t[2]/255;return a=Math.min(1-o,1-i,1-u),e=(1-o-a)/(1-a)||0,r=(1-i-a)/(1-a)||0,n=(1-u-a)/(1-a)||0,[100*e,100*r,100*n,100*a]}function u(t){return Z[JSON.stringify(t)]}function l(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var a=.4124*e+.3576*r+.1805*n,o=.2126*e+.7152*r+.0722*n,i=.0193*e+.1192*r+.9505*n;return[100*a,100*o,100*i]}function s(t){var e,r,n,a=l(t),o=a[0],i=a[1],u=a[2];return o/=95.047,i/=100,u/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,e=116*i-16,r=500*(o-i),n=200*(i-u),[e,r,n]}function c(t){return q(s(t))}function f(t){var e,r,n,a,o,i=t[0]/360,u=t[1]/100,l=t[2]/100;if(0==u)return o=255*l,[o,o,o];r=l<.5?l*(1+u):l+u-l*u,e=2*l-r,a=[0,0,0];for(var s=0;s<3;s++)n=i+1/3*-(s-1),n<0&&n++,n>1&&n--,o=6*n<1?e+6*(r-e)*n:2*n<1?r:3*n<2?e+(r-e)*(2/3-n)*6:e,a[s]=255*o;return a}function h(t){var e,r,n=t[0],a=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:(o*=2,a*=o<=1?o:2-o,r=(o+a)/2,e=2*a/(o+a),[n,100*e,100*r])}function M(t){return o(f(t))}function p(t){return i(f(t))}function m(t){return u(f(t))}function d(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,a=Math.floor(e)%6,o=e-Math.floor(e),i=255*n*(1-r),u=255*n*(1-r*o),l=255*n*(1-r*(1-o)),n=255*n;switch(a){case 0:return[n,l,i];case 1:return[u,n,i];case 2:return[i,n,l];case 3:return[i,u,n];case 4:return[l,i,n];case 5:return[n,i,u]}}function v(t){var e,r,n=t[0],a=t[1]/100,o=t[2]/100;return r=(2-a)*o,e=a*o,e/=r<=1?r:2-r,e=e||0,r/=2,[n,100*e,100*r]}function y(t){return o(d(t))}function x(t){return i(d(t))}function S(t){return u(d(t))}function I(t){var e,n,a,o,i=t[0]/360,u=t[1]/100,l=t[2]/100,s=u+l;switch(s>1&&(u/=s,l/=s),e=Math.floor(6*i),n=1-l,a=6*i-e,0!=(1&e)&&(a=1-a),o=u+a*(n-u),e){default:case 6:case 0:r=n,g=o,b=u;break;case 1:r=o,g=n,b=u;break;case 2:r=u,g=n,b=o;break;case 3:r=u,g=o,b=n;break;case 4:r=o,g=u,b=n;break;case 5:r=n,g=u,b=o}return[255*r,255*g,255*b]}function w(t){return n(I(t))}function D(t){return a(I(t))}function F(t){return i(I(t))}function k(t){return u(I(t))}function O(t){var e,r,n,a=t[0]/100,o=t[1]/100,i=t[2]/100,u=t[3]/100;return e=1-Math.min(1,a*(1-u)+u),r=1-Math.min(1,o*(1-u)+u),n=1-Math.min(1,i*(1-u)+u),[255*e,255*r,255*n]}function _(t){return n(O(t))}function E(t){return a(O(t))}function A(t){return o(O(t))}function P(t){return u(O(t))}function z(t){var e,r,n,a=t[0]/100,o=t[1]/100,i=t[2]/100;return e=3.2406*a+o*-1.5372+i*-.4986,r=a*-.9689+1.8758*o+.0415*i,n=.0557*a+o*-.204+1.057*i,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,e=Math.min(Math.max(0,e),1),r=Math.min(Math.max(0,r),1),n=Math.min(Math.max(0,n),1),[255*e,255*r,255*n]}function R(t){var e,r,n,a=t[0],o=t[1],i=t[2];return a/=95.047,o/=100,i/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,e=116*o-16,r=500*(a-o),n=200*(o-i),[e,r,n]}function L(t){return q(R(t))}function T(t){var e,r,n,a,o=t[0],i=t[1],u=t[2];return o<=8?(r=100*o/903.3,a=7.787*(r/100)+16/116):(r=100*Math.pow((o+16)/116,3),a=Math.pow(r/100,1/3)),e=e/95.047<=.008856?e=95.047*(i/500+a-16/116)/7.787:95.047*Math.pow(i/500+a,3),n=n/108.883<=.008859?n=108.883*(a-u/200-16/116)/7.787:108.883*Math.pow(a-u/200,3),[e,r,n]}function q(t){var e,r,n,a=t[0],o=t[1],i=t[2];return e=Math.atan2(i,o),r=360*e/2/Math.PI,r<0&&(r+=360),n=Math.sqrt(o*o+i*i),[a,n,r]}function N(t){return z(T(t))}function j(t){var e,r,n,a=t[0],o=t[1],i=t[2];return n=i/360*2*Math.PI,e=o*Math.cos(n),r=o*Math.sin(n),[a,e,r]}function Y(t){return T(j(t))}function C(t){return N(j(t))}function V(t){return W[t]}function K(t){return n(V(t))}function H(t){return a(V(t))}function U(t){return o(V(t))}function X(t){return i(V(t))}function B(t){return s(V(t))}function Q(t){return l(V(t))}t.exports={rgb2hsl:n,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:i,rgb2keyword:u,rgb2xyz:l,rgb2lab:s,rgb2lch:c,hsl2rgb:f,hsl2hsv:h,hsl2hwb:M,hsl2cmyk:p,hsl2keyword:m,hsv2rgb:d,hsv2hsl:v,hsv2hwb:y,hsv2cmyk:x,hsv2keyword:S,hwb2rgb:I,hwb2hsl:w,hwb2hsv:D,hwb2cmyk:F,hwb2keyword:k,cmyk2rgb:O,cmyk2hsl:_,cmyk2hsv:E,cmyk2hwb:A,cmyk2keyword:P,keyword2rgb:V,keyword2hsl:K,keyword2hsv:H,keyword2hwb:U,keyword2cmyk:X,keyword2lab:B,keyword2xyz:Q,xyz2rgb:z,xyz2lab:R,xyz2lch:L,lab2xyz:T,lab2rgb:N,lab2lch:q,lch2lab:j,lch2xyz:Y,lch2rgb:C};var W={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Z={};for(var $ in W)Z[JSON.stringify(W[$])]=$},function(t,e,r){"use strict";var n=r(11);t.exports={linear:function(t){return t},easeInSine:function(t){return Math.sin((Math.PI*t-Math.PI)/2)+1},easeOutSine:function(t){return Math.sin(Math.PI*t/2)},easeInOutSine:function(t){return Math.sin(Math.PI*t-Math.PI/2)/2+.5},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeInExpo:function(t){return Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return t<.5?Math.pow(2,10*(2*t-1))/2:1-Math.pow(2,-10*(2*t-1))/2},easeInCirc:function(t){return-Math.sqrt(1-t*t)+1},easeOutCirc:function(t){return Math.sqrt(1- --t*t)},easeInOutCirc:function(t){return t<.5?-.5*(Math.sqrt(1-4*t*t)-1):.5*(Math.sqrt(1-(2*t-2)*(2*t-2))+1)},easeInBack:function(t){return n(.6,-.28,.735,.045)(t)},easeOutBack:function(t){return n(.175,.885,.32,1.275)(t)},easeInOutBack:function(t){return n(.68,-.55,.265,1.55)(t)},step:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(e?Math.ceil:Math.floor)(t*r)/r},cubicBezier:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return n(e,r,a,o)(t)}}},function(t,e){"use strict";function r(t,e){return 1-3*e+3*t}function n(t,e){return 3*e-6*t}function a(t){return 3*t}function o(t,e,o){return((r(e,o)*t+n(e,o))*t+a(e))*t}function i(t,e,o){return 3*r(e,o)*t*t+2*n(e,o)*t+a(e)}function u(t,e,r,n,a){var i,u,l=0;do u=e+(r-e)/2,i=o(u,n,a)-t,i>0?r=u:e=u;while(Math.abs(i)>f&&++l<h);return u}function l(t,e,r,n){for(var a=0;a<s;++a){var u=i(e,r,n);if(0===u)return e;var l=o(e,r,n)-t;e-=l/u}return e}var s=4,c=.001,f=1e-7,h=10,M=11,p=1/(M-1),m="function"==typeof Float32Array;t.exports=function(t,e,r,n){function a(e){for(var n=0,a=1,o=M-1;a!==o&&s[a]<=e;++a)n+=p;--a;var f=(e-s[a])/(s[a+1]-s[a]),h=n+f*p,m=i(h,t,r);return m>=c?l(e,h,t,r):0===m?h:u(e,n,n+p,t,r)}if(!(0<=t&&t<=1&&0<=r&&r<=1))throw new Error("bezier x values must be in [0, 1] range");var s=m?new Float32Array(M):new Array(M);if(t!==e||r!==n)for(var f=0;f<M;++f)s[f]=o(f*p,t,r);return function(i){return t===e&&r===n?i:0===i?0:1===i?1:o(a(i),e,n)}}},function(t,e,r){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=r(4),s=r(10);t.exports=function(t){function e(t){a(this,e);var r=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.interpolator=e.interpolator,r}return i(e,t),u(e,null,[{key:"interpolator",value:function(t,e,r){var a=-(1/0),o=1/0,i=!0,u=!1,c=void 0;try{for(var f,h=e.keys()[Symbol.iterator]();!(i=(f=h.next()).done);i=!0){var M=f.value;M<=t&&M>a&&(a=M),M>t&&M<o&&(o=M)}}catch(t){u=!0,c=t}finally{try{!i&&h.return&&h.return()}finally{if(u)throw c}}if(!Number.isFinite(a)&&!Number.isFinite(o))return r;if(!Number.isFinite(a))return e.get(o)[0];if(!Number.isFinite(o))return e.get(a)[0];var p=l.resolveKey(e,a,r),m=l.resolveKey(e,o,r),d=(t-a)/(o-a),v=(m[1].function||s.linear).apply(void 0,[d].concat(n(m[1].parameters||[])));return(m[0]-p[0])*v+p[0]}},{key:"springInterpolator",value:function(t,r,n,a,o){var i=e.interpolator(t,r,n);if(!o.hasOwnProperty("springPosition")){var u=-(1/0),s=1/0,c=!0,f=!1,h=void 0;try{for(var M,p=r.keys()[Symbol.iterator]();!(c=(M=p.next()).done);c=!0){var m=M.value;m<=t&&m>u&&(u=m),m>t&&m<s&&(s=m)}}catch(t){f=!0,h=t}finally{try{!c&&p.return&&p.return()}finally{if(f)throw h}}Number.isFinite(u)?o.springPosition=l.resolveKey(r,u,n)[0]:Number.isFinite(s)?o.springPosition=l.resolveKey(r,s,n)[0]:o.springPosition=n,o.springVelocity=0}var d=o.springPosition,v=o.springVelocity,b=0|o.spring[0],y=0|o.spring[1];return v=(v+b*a*(i-d))*(1/(1+y*a)),d+=v*a,o.springPosition=d,o.springVelocity=v,d}}]),e}(l)},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(4);t.exports=function(t){function e(t){n(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.interpolator=e.interpolator,r}return o(e,t),i(e,null,[{key:"interpolator",value:function(t,e,r){var n=-(1/0),a=1/0,o=!0,i=!1,l=void 0;try{for(var s,c=e.keys()[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value;f<=t&&f>n&&(n=f),f>t&&f<a&&(a=f)}}catch(t){i=!0,l=t}finally{try{!o&&c.return&&c.return()}finally{if(i)throw l}}return Number.isFinite(n)||Number.isFinite(a)?Number.isFinite(n)?u.resolveKey(e,n,r)[0]:u.resolveKey(e,a,r)[0]:r}}]),e}(u)},function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(15),f=r(16),h=r(17),M=r(19),p=r(12),m=r(3),d=r(20);t.exports=function(t){function e(){o(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.parentNode=null,t.transform=new M,t.opacity=new p(1),t.enabled=new m(!0),t.zIndex=new p(0),t.children=new Set,t.on("connected",function(){var e=!0,r=!1,n=void 0;try{for(var a,o=t.children.values()[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var i=a.value;i.emit("connected")}}catch(t){r=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(r)throw n}}}),t}return u(e,t),s(e,[{key:"sortChildren",value:function(t,e){var r=new Map,n=!0,o=!1,i=void 0;try{for(var u,l=this.children.values()[Symbol.iterator]();!(n=(u=l.next()).done);n=!0){var s=u.value;r.set(s,[s.zIndex.getValue(t,e),s.enabled.getValue(t,e)])}}catch(t){o=!0,i=t}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}var c=f([].concat(a(r.keys())),function(t,e){return r.get(t)[0]>r.get(e)[0]});return{values:r,children:c}}},{key:"drawChildren",value:function(t,e,r,n){var a=this.sortChildren(r,n),o=a.values,i=a.children,u=!0,l=!1,s=void 0;try{for(var c,f=i[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;o.get(h)[1]===!0&&h.draw(t,e,r,n)}}catch(t){l=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw s}}}},{key:"draw",value:function(t,e,r,n){var a=this.transform.getMatrix(r,n),o=h.mat3.create();h.mat3.multiply(o,e,a),this.drawSelf(t,o,r,n),this.drawChildren(t,o,r,n)}},{key:"drawSelf",value:function(t,e,r,n){d.setTransformMatrix(t,e),t.fillStyle="#fff",t.strokeStyle="#637bc5",t.font="10px Operator Mono, Menlo, Monaco, Inconsolata, Consolas, Lucida Console, monospace",t.textAlign="center",t.textBaseline="middle",t.globalAlpha=this.opacity.getValue(r,n),t.globalCompositeOperation="source-over",t.lineWidth=2,t.lineCap="round",t.lineJoin="round",t.lineDashOffset=0,t.setLineDash([]),t.strokeText("[Object]",0,0),t.fillText("[Object]",0,0),t.fillStyle="#4ebc6b",t.beginPath(),t.arc(0,0,1,0,2*Math.PI),t.fill()}},{key:"addChild",value:function(t){if(null!==t.parentNode&&t.parentNode!==this)throw new Error("Child node already has a parent");this.children.add(t),t.parentNode=this,t.emit("connected")}},{key:"removeChild",value:function(t){return this.children.delete(t)}},{key:"hasChild",value:function(t){return this.children.has(t)}},{key:"closest",value:function(t){return t(this)?this:this.parentNode?this.parentNode.closest(t):null}},{key:"addKeys",value:function(t){for(var e in t){var r=this,o=!0,i=!1,u=void 0;try{for(var s,c=e.split(".")[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=s.value;if(r=r[f],!r)break}}catch(t){i=!0,u=t}finally{try{!o&&c.return&&c.return()}finally{
if(i)throw u}}if(r){var h=t[e],M=!1,p=0;if("object"===("undefined"==typeof h?"undefined":l(h)))for(var m in h){var d;if(m.match(/^[+-]?(?:\d+?(?:\.\d+?)?|\.\d+?)?$/)){var v=parseFloat(m);m.match(/^[+-]/)&&(v=p+(m.match(/^\+/)?1:-1)*parseFloat(m.substr(1))),p=v;var b=h[m];Array.isArray(b)||(b=[b]),r.addKey?(d=r).addKey.apply(d,[v].concat(a(b))):M||(console.warn(e+" has no addKey method"),M=!0)}else this.addKeys(n({},e+"."+m,h[m]))}else r.defaultValue=h}else console.warn("property not found: "+e)}}}]),e}(c)},function(t,e){"use strict";function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function a(t){return"number"==typeof t}function o(t){return"object"===("undefined"==typeof t?"undefined":u(t))&&null!==t}function i(t){return void 0===t}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!a(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,a,u,l,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(r=this._events[t],i(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),r.apply(this,u)}else if(o(r))for(u=Array.prototype.slice.call(arguments,1),s=r.slice(),a=s.length,l=0;l<a;l++)s[l].apply(this,u);return!0},r.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(a=i(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,a&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),a||(a=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var a=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,a,i,u;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],i=r.length,a=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(r)){for(u=i;u-- >0;)if(r[u]===e||r[u].listener&&r[u].listener===e){a=u;break}if(a<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(a,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){"use strict";
//! stable.js 0.1.5, https://github.com/Two-Screen/stable
//! © 2014 Angry Bytes and contributors. MIT licensed.
!function(){function e(t,e){"function"!=typeof e&&(e=function(t,e){return String(t).localeCompare(e)});var r=t.length;if(r<=1)return t;for(var a=new Array(r),o=1;o<r;o*=2){n(t,e,o,a);var i=t;t=a,a=i}return t}var r=function(t,r){return e(t.slice(),r)};r.inplace=function(t,r){var a=e(t,r);return a!==t&&n(a,null,t.length,t),t};var n=function(t,e,r,n){var a,o,i,u,l,s=t.length,c=0,f=2*r;for(a=0;a<s;a+=f)for(o=a+r,i=o+r,o>s&&(o=s),i>s&&(i=s),u=a,l=o;;)if(u<o&&l<i)e(t[u],t[l])<=0?n[c++]=t[u++]:n[c++]=t[l++];else if(u<o)n[c++]=t[u++];else{if(!(l<i))break;n[c++]=t[l++]}};t.exports=r}()},function(t,e,r){var n,a,o;(function(t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(i,u){if("object"==r(e)&&"object"==r(t))t.exports=u();else{a=[],n=u,o="function"==typeof n?n.apply(e,a):n,!(void 0!==o&&(t.exports=o))}}(void 0,function(){return function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){e.glMatrix=r(1),e.mat2=r(2),e.mat2d=r(3),e.mat3=r(4),e.mat4=r(5),e.quat=r(6),e.vec2=r(9),e.vec3=r(7),e.vec4=r(8)},function(t,e){var r={};r.EPSILON=1e-6,r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,r.RANDOM=Math.random,r.ENABLE_SIMD=!1,r.SIMD_AVAILABLE=r.ARRAY_TYPE===Float32Array&&"SIMD"in this,r.USE_SIMD=r.ENABLE_SIMD&&r.SIMD_AVAILABLE,r.setMatrixArrayType=function(t){r.ARRAY_TYPE=t};var n=Math.PI/180;r.toRadian=function(t){return t*n},r.equals=function(t,e){return Math.abs(t-e)<=r.EPSILON*Math.max(1,Math.abs(t),Math.abs(e))},t.exports=r},function(t,e,r){var n=r(1),a={};a.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},a.fromValues=function(t,e,r,a){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=a,o},a.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},a.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t},a.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*o-a*n;return i?(i=1/i,t[0]=o*i,t[1]=-n*i,t[2]=-a*i,t[3]=r*i,t):null},a.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t},a.determinant=function(t){return t[0]*t[3]-t[2]*t[1]},a.multiply=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],l=r[1],s=r[2],c=r[3];return t[0]=n*u+o*l,t[1]=a*u+i*l,t[2]=n*s+o*c,t[3]=a*s+i*c,t},a.mul=a.multiply,a.rotate=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),l=Math.cos(r);return t[0]=n*l+o*u,t[1]=a*l+i*u,t[2]=n*-u+o*l,t[3]=a*-u+i*l,t},a.scale=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],l=r[1];return t[0]=n*u,t[1]=a*u,t[2]=o*l,t[3]=i*l,t},a.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t},a.str=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))},a.LDU=function(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},a.sub=a.subtract,a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=t[3],u=e[0],l=e[1],s=e[2],c=e[3];return Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},a.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},a.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},t.exports=a},function(t,e,r){var n=r(1),a={};a.create=function(){var t=new n.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.clone=function(t){var e=new n.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},a.fromValues=function(t,e,r,a,o,i){var u=new n.ARRAY_TYPE(6);return u[0]=t,u[1]=e,u[2]=r,u[3]=a,u[4]=o,u[5]=i,u},a.set=function(t,e,r,n,a,o,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t},a.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],l=r*o-n*a;return l?(l=1/l,t[0]=o*l,t[1]=-n*l,t[2]=-a*l,t[3]=r*l,t[4]=(a*u-o*i)*l,t[5]=(n*i-r*u)*l,t):null},a.determinant=function(t){return t[0]*t[3]-t[1]*t[2]},a.multiply=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=r[0],c=r[1],f=r[2],h=r[3],M=r[4],p=r[5];return t[0]=n*s+o*c,t[1]=a*s+i*c,t[2]=n*f+o*h,t[3]=a*f+i*h,t[4]=n*M+o*p+u,t[5]=a*M+i*p+l,t},a.mul=a.multiply,a.rotate=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=Math.sin(r),c=Math.cos(r);return t[0]=n*c+o*s,t[1]=a*c+i*s,t[2]=n*-s+o*c,t[3]=a*-s+i*c,t[4]=u,t[5]=l,t},a.scale=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=r[0],c=r[1];return t[0]=n*s,t[1]=a*s,t[2]=o*c,t[3]=i*c,t[4]=u,t[5]=l,t},a.translate=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=r[0],c=r[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=n*s+o*c+u,t[5]=a*s+i*c+l,t},a.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t},a.str=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t},a.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]},a.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=e[0],c=e[1],f=e[2],h=e[3],M=e[4],p=e[5];return Math.abs(r-s)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(a-c)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(o-f)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(i-h)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(u-M)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(l-p)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(p))},t.exports=a},function(t,e,r){var n=r(1),a={};a.create=function(){var t=new n.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t},a.clone=function(t){var e=new n.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromValues=function(t,e,r,a,o,i,u,l,s){var c=new n.ARRAY_TYPE(9);return c[0]=t,c[1]=e,c[2]=r,c[3]=a,c[4]=o,c[5]=i,c[6]=u,c[7]=l,c[8]=s,c},a.set=function(t,e,r,n,a,o,i,u,l,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=a}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t},a.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=c*i-u*s,h=-c*o+u*l,M=s*o-i*l,p=r*f+n*h+a*M;return p?(p=1/p,t[0]=f*p,t[1]=(-c*n+a*s)*p,t[2]=(u*n-a*i)*p,t[3]=h*p,t[4]=(c*r-a*l)*p,t[5]=(-u*r+a*o)*p,t[6]=M*p,t[7]=(-s*r+n*l)*p,t[8]=(i*r-n*o)*p,t):null},a.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8];return t[0]=i*c-u*s,t[1]=a*s-n*c,t[2]=n*u-a*i,t[3]=u*l-o*c,t[4]=r*c-a*l,t[5]=a*o-r*u,t[6]=o*s-i*l,t[7]=n*l-r*s,t[8]=r*i-n*o,t},a.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8];return e*(s*o-i*l)+r*(-s*a+i*u)+n*(l*a-o*u)},a.multiply=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=r[0],M=r[1],p=r[2],m=r[3],d=r[4],v=r[5],b=r[6],y=r[7],x=r[8];return t[0]=h*n+M*i+p*s,t[1]=h*a+M*u+p*c,t[2]=h*o+M*l+p*f,t[3]=m*n+d*i+v*s,t[4]=m*a+d*u+v*c,t[5]=m*o+d*l+v*f,t[6]=b*n+y*i+x*s,t[7]=b*a+y*u+x*c,t[8]=b*o+y*l+x*f,t},a.mul=a.multiply,a.translate=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=r[0],M=r[1];return t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=h*n+M*i+s,t[7]=h*a+M*u+c,t[8]=h*o+M*l+f,t},a.rotate=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=Math.sin(r),M=Math.cos(r);return t[0]=M*n+h*i,t[1]=M*a+h*u,t[2]=M*o+h*l,t[3]=M*i-h*n,t[4]=M*u-h*a,t[5]=M*l-h*o,t[6]=s,t[7]=c,t[8]=f,t},a.scale=function(t,e,r){var n=r[0],a=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=a*e[3],t[4]=a*e[4],t[5]=a*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t},a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t},a.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},a.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t},a.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r+r,u=n+n,l=a+a,s=r*i,c=n*i,f=n*u,h=a*i,M=a*u,p=a*l,m=o*i,d=o*u,v=o*l;return t[0]=1-f-p,t[3]=c-v,t[6]=h+d,t[1]=c+v,t[4]=1-s-p,t[7]=M-m,t[2]=h-d,t[5]=M+m,t[8]=1-s-f,t},a.normalFromMat4=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],p=e[12],m=e[13],d=e[14],v=e[15],b=r*u-n*i,y=r*l-a*i,x=r*s-o*i,S=n*l-a*u,I=n*s-o*u,g=a*s-o*l,w=c*m-f*p,D=c*d-h*p,F=c*v-M*p,k=f*d-h*m,O=f*v-M*m,_=h*v-M*d,E=b*_-y*O+x*k+S*F-I*D+g*w;return E?(E=1/E,t[0]=(u*_-l*O+s*k)*E,t[1]=(l*F-i*_-s*D)*E,t[2]=(i*O-u*F+s*w)*E,t[3]=(a*O-n*_-o*k)*E,t[4]=(r*_-a*F+o*D)*E,t[5]=(n*F-r*O-o*w)*E,t[6]=(m*g-d*I+v*S)*E,t[7]=(d*x-p*g-v*y)*E,t[8]=(p*I-m*x+v*b)*E,t):null},a.str=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t},a.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]},a.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=e[0],M=e[1],p=e[2],m=e[3],d=e[4],v=e[5],b=t[6],y=e[7],x=e[8];return Math.abs(r-h)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(a-M)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(o-p)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(i-m)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(u-d)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(d))&&Math.abs(l-v)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(v))&&Math.abs(s-b)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-y)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(y))&&Math.abs(f-x)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(x))},t.exports=a},function(t,e,r){var n=r(1),a={scalar:{},SIMD:{}};a.create=function(){var t=new n.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.clone=function(t){var e=new n.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.fromValues=function(t,e,r,a,o,i,u,l,s,c,f,h,M,p,m,d){var v=new n.ARRAY_TYPE(16);return v[0]=t,v[1]=e,v[2]=r,v[3]=a,v[4]=o,v[5]=i,v[6]=u,v[7]=l,v[8]=s,v[9]=c,v[10]=f,v[11]=h,v[12]=M,v[13]=p,v[14]=m,v[15]=d,v},a.set=function(t,e,r,n,a,o,i,u,l,s,c,f,h,M,p,m,d){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t[4]=o,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t[9]=c,t[10]=f,t[11]=h,t[12]=M,t[13]=p,t[14]=m,t[15]=d,t},a.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.scalar.transpose=function(t,e){if(t===e){var r=e[1],n=e[2],a=e[3],o=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=a,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t},a.SIMD.transpose=function(t,e){var r,n,a,o,i,u,l,s,c,f;return r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12),i=SIMD.Float32x4.shuffle(r,n,0,1,4,5),u=SIMD.Float32x4.shuffle(a,o,0,1,4,5),l=SIMD.Float32x4.shuffle(i,u,0,2,4,6),s=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,0,l),SIMD.Float32x4.store(t,4,s),i=SIMD.Float32x4.shuffle(r,n,2,3,6,7),u=SIMD.Float32x4.shuffle(a,o,2,3,6,7),c=SIMD.Float32x4.shuffle(i,u,0,2,4,6),f=SIMD.Float32x4.shuffle(i,u,1,3,5,7),SIMD.Float32x4.store(t,8,c),SIMD.Float32x4.store(t,12,f),t},a.transpose=n.USE_SIMD?a.SIMD.transpose:a.scalar.transpose,a.scalar.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],p=e[12],m=e[13],d=e[14],v=e[15],b=r*u-n*i,y=r*l-a*i,x=r*s-o*i,S=n*l-a*u,I=n*s-o*u,g=a*s-o*l,w=c*m-f*p,D=c*d-h*p,F=c*v-M*p,k=f*d-h*m,O=f*v-M*m,_=h*v-M*d,E=b*_-y*O+x*k+S*F-I*D+g*w;return E?(E=1/E,t[0]=(u*_-l*O+s*k)*E,t[1]=(a*O-n*_-o*k)*E,t[2]=(m*g-d*I+v*S)*E,t[3]=(h*I-f*g-M*S)*E,t[4]=(l*F-i*_-s*D)*E,t[5]=(r*_-a*F+o*D)*E,t[6]=(d*x-p*g-v*y)*E,t[7]=(c*g-h*x+M*y)*E,t[8]=(i*O-u*F+s*w)*E,t[9]=(n*F-r*O-o*w)*E,t[10]=(p*I-m*x+v*b)*E,t[11]=(f*x-c*I-M*b)*E,t[12]=(u*D-i*k-l*w)*E,t[13]=(r*k-n*D+a*w)*E,t[14]=(m*y-p*S-d*b)*E,t[15]=(c*S-f*y+h*b)*E,t):null},a.SIMD.invert=function(t,e){var r,n,a,o,i,u,l,s,c,f,h=SIMD.Float32x4.load(e,0),M=SIMD.Float32x4.load(e,4),p=SIMD.Float32x4.load(e,8),m=SIMD.Float32x4.load(e,12);return i=SIMD.Float32x4.shuffle(h,M,0,1,4,5),n=SIMD.Float32x4.shuffle(p,m,0,1,4,5),r=SIMD.Float32x4.shuffle(i,n,0,2,4,6),n=SIMD.Float32x4.shuffle(n,i,1,3,5,7),i=SIMD.Float32x4.shuffle(h,M,2,3,6,7),o=SIMD.Float32x4.shuffle(p,m,2,3,6,7),a=SIMD.Float32x4.shuffle(i,o,0,2,4,6),o=SIMD.Float32x4.shuffle(o,i,1,3,5,7),i=SIMD.Float32x4.mul(a,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.mul(n,i),l=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,i),u),l=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),l),l=SIMD.Float32x4.swizzle(l,2,3,0,1),i=SIMD.Float32x4.mul(n,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),u),c=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),i=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(n,2,3,0,1),o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),a=SIMD.Float32x4.swizzle(a,2,3,0,1),u=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),u),s=SIMD.Float32x4.mul(r,i),i=SIMD.Float32x4.swizzle(i,2,3,0,1),u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(a,i)),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,i),s),s=SIMD.Float32x4.swizzle(s,2,3,0,1),i=SIMD.Float32x4.mul(r,n),i=SIMD.Float32x4.swizzle(i,1,0,3,2),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.sub(SIMD.Float32x4.mul(a,i),c),i=SIMD.Float32x4.swizzle(i,2,3,0,1),s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,i),s),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(a,i)),i=SIMD.Float32x4.mul(r,o),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(a,i)),s=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),s),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(a,i),l),s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(n,i)),i=SIMD.Float32x4.mul(r,a),i=SIMD.Float32x4.swizzle(i,1,0,3,2),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,i),l),c=SIMD.Float32x4.sub(c,SIMD.Float32x4.mul(n,i)),i=SIMD.Float32x4.swizzle(i,2,3,0,1),l=SIMD.Float32x4.sub(l,SIMD.Float32x4.mul(o,i)),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,i),c),f=SIMD.Float32x4.mul(r,u),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,2,3,0,1),f),f=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(f,1,0,3,2),f),i=SIMD.Float32x4.reciprocalApproximation(f),f=SIMD.Float32x4.sub(SIMD.Float32x4.add(i,i),SIMD.Float32x4.mul(f,SIMD.Float32x4.mul(i,i))),(f=SIMD.Float32x4.swizzle(f,0,0,0,0))?(SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(f,u)),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(f,l)),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(f,s)),SIMD.Float32x4.store(t,12,SIMD.Float32x4.mul(f,c)),t):null},a.invert=n.USE_SIMD?a.SIMD.invert:a.scalar.invert,a.scalar.adjoint=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],M=e[11],p=e[12],m=e[13],d=e[14],v=e[15];return t[0]=u*(h*v-M*d)-f*(l*v-s*d)+m*(l*M-s*h),t[1]=-(n*(h*v-M*d)-f*(a*v-o*d)+m*(a*M-o*h)),t[2]=n*(l*v-s*d)-u*(a*v-o*d)+m*(a*s-o*l),t[3]=-(n*(l*M-s*h)-u*(a*M-o*h)+f*(a*s-o*l)),t[4]=-(i*(h*v-M*d)-c*(l*v-s*d)+p*(l*M-s*h)),t[5]=r*(h*v-M*d)-c*(a*v-o*d)+p*(a*M-o*h),t[6]=-(r*(l*v-s*d)-i*(a*v-o*d)+p*(a*s-o*l)),t[7]=r*(l*M-s*h)-i*(a*M-o*h)+c*(a*s-o*l),t[8]=i*(f*v-M*m)-c*(u*v-s*m)+p*(u*M-s*f),t[9]=-(r*(f*v-M*m)-c*(n*v-o*m)+p*(n*M-o*f)),t[10]=r*(u*v-s*m)-i*(n*v-o*m)+p*(n*s-o*u),t[11]=-(r*(u*M-s*f)-i*(n*M-o*f)+c*(n*s-o*u)),t[12]=-(i*(f*d-h*m)-c*(u*d-l*m)+p*(u*h-l*f)),t[13]=r*(f*d-h*m)-c*(n*d-a*m)+p*(n*h-a*f),t[14]=-(r*(u*d-l*m)-i*(n*d-a*m)+p*(n*l-a*u)),t[15]=r*(u*h-l*f)-i*(n*h-a*f)+c*(n*l-a*u),t},a.SIMD.adjoint=function(t,e){var r,n,a,o,i,u,l,s,c,f,h,M,p,r=SIMD.Float32x4.load(e,0),n=SIMD.Float32x4.load(e,4),a=SIMD.Float32x4.load(e,8),o=SIMD.Float32x4.load(e,12);return c=SIMD.Float32x4.shuffle(r,n,0,1,4,5),u=SIMD.Float32x4.shuffle(a,o,0,1,4,5),i=SIMD.Float32x4.shuffle(c,u,0,2,4,6),u=SIMD.Float32x4.shuffle(u,c,1,3,5,7),c=SIMD.Float32x4.shuffle(r,n,2,3,6,7),s=SIMD.Float32x4.shuffle(a,o,2,3,6,7),l=SIMD.Float32x4.shuffle(c,s,0,2,4,6),s=SIMD.Float32x4.shuffle(s,c,1,3,5,7),c=SIMD.Float32x4.mul(l,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.mul(u,c),h=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(u,c),f),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),c=SIMD.Float32x4.mul(u,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),f),p=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(s,c)),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),p),p=SIMD.Float32x4.swizzle(p,2,3,0,1),c=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,3,0,1),s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),f),M=SIMD.Float32x4.mul(i,c),c=SIMD.Float32x4.swizzle(c,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,c),M),M=SIMD.Float32x4.swizzle(M,2,3,0,1),c=SIMD.Float32x4.mul(i,u),c=SIMD.Float32x4.swizzle(c,1,0,3,2),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),M),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,c),p),c=SIMD.Float32x4.swizzle(c,2,3,0,1),M=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,c),M),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(l,c)),c=SIMD.Float32x4.mul(i,s),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(l,c)),M=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),M),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,c),h),M=SIMD.Float32x4.sub(M,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.mul(i,l),c=SIMD.Float32x4.swizzle(c,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,c),h),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(u,c)),c=SIMD.Float32x4.swizzle(c,2,3,0,1),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(s,c)),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(u,c),p),SIMD.Float32x4.store(t,0,f),SIMD.Float32x4.store(t,4,h),SIMD.Float32x4.store(t,8,M),SIMD.Float32x4.store(t,12,p),t},a.adjoint=n.USE_SIMD?a.SIMD.adjoint:a.scalar.adjoint,a.determinant=function(t){var e=t[0],r=t[1],n=t[2],a=t[3],o=t[4],i=t[5],u=t[6],l=t[7],s=t[8],c=t[9],f=t[10],h=t[11],M=t[12],p=t[13],m=t[14],d=t[15],v=e*i-r*o,b=e*u-n*o,y=e*l-a*o,x=r*u-n*i,S=r*l-a*i,I=n*l-a*u,g=s*p-c*M,w=s*m-f*M,D=s*d-h*M,F=c*m-f*p,k=c*d-h*p,O=f*d-h*m;return v*O-b*k+y*F+x*D-S*w+I*g},a.SIMD.multiply=function(t,e,r){var n=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4.load(r,0),l=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),i))));SIMD.Float32x4.store(t,0,l);var s=SIMD.Float32x4.load(r,4),c=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),i))));SIMD.Float32x4.store(t,4,c);var f=SIMD.Float32x4.load(r,8),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(f,3,3,3,3),i))));SIMD.Float32x4.store(t,8,h);var M=SIMD.Float32x4.load(r,12),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,0,0,0,0),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,1,1,1,1),a),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(M,3,3,3,3),i))));return SIMD.Float32x4.store(t,12,p),t},a.scalar.multiply=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],p=e[11],m=e[12],d=e[13],v=e[14],b=e[15],y=r[0],x=r[1],S=r[2],I=r[3];return t[0]=y*n+x*u+S*f+I*m,t[1]=y*a+x*l+S*h+I*d,t[2]=y*o+x*s+S*M+I*v,t[3]=y*i+x*c+S*p+I*b,y=r[4],x=r[5],S=r[6],I=r[7],t[4]=y*n+x*u+S*f+I*m,t[5]=y*a+x*l+S*h+I*d,t[6]=y*o+x*s+S*M+I*v,t[7]=y*i+x*c+S*p+I*b,y=r[8],x=r[9],S=r[10],I=r[11],t[8]=y*n+x*u+S*f+I*m,t[9]=y*a+x*l+S*h+I*d,t[10]=y*o+x*s+S*M+I*v,t[11]=y*i+x*c+S*p+I*b,y=r[12],x=r[13],S=r[14],I=r[15],t[12]=y*n+x*u+S*f+I*m,t[13]=y*a+x*l+S*h+I*d,t[14]=y*o+x*s+S*M+I*v,t[15]=y*i+x*c+S*p+I*b,t},a.multiply=n.USE_SIMD?a.SIMD.multiply:a.scalar.multiply,a.mul=a.multiply,a.scalar.translate=function(t,e,r){var n,a,o,i,u,l,s,c,f,h,M,p,m=r[0],d=r[1],v=r[2];return e===t?(t[12]=e[0]*m+e[4]*d+e[8]*v+e[12],t[13]=e[1]*m+e[5]*d+e[9]*v+e[13],t[14]=e[2]*m+e[6]*d+e[10]*v+e[14],t[15]=e[3]*m+e[7]*d+e[11]*v+e[15]):(n=e[0],a=e[1],o=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],M=e[10],p=e[11],t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=s,t[7]=c,t[8]=f,t[9]=h,t[10]=M,t[11]=p,t[12]=n*m+u*d+f*v+e[12],t[13]=a*m+l*d+h*v+e[13],t[14]=o*m+s*d+M*v+e[14],t[15]=i*m+c*d+p*v+e[15]),t},a.SIMD.translate=function(t,e,r){var n=SIMD.Float32x4.load(e,0),a=SIMD.Float32x4.load(e,4),o=SIMD.Float32x4.load(e,8),i=SIMD.Float32x4.load(e,12),u=SIMD.Float32x4(r[0],r[1],r[2],0);e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11]),n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(u,0,0,0,0)),a=SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(u,1,1,1,1)),o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(u,2,2,2,2));var l=SIMD.Float32x4.add(n,SIMD.Float32x4.add(a,SIMD.Float32x4.add(o,i)));return SIMD.Float32x4.store(t,12,l),t},a.translate=n.USE_SIMD?a.SIMD.translate:a.scalar.translate,a.scalar.scale=function(t,e,r){var n=r[0],a=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*a,t[5]=e[5]*a,t[6]=e[6]*a,t[7]=e[7]*a,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.SIMD.scale=function(t,e,r){var n,a,o,i=SIMD.Float32x4(r[0],r[1],r[2],0);return n=SIMD.Float32x4.load(e,0),SIMD.Float32x4.store(t,0,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(i,0,0,0,0))),a=SIMD.Float32x4.load(e,4),SIMD.Float32x4.store(t,4,SIMD.Float32x4.mul(a,SIMD.Float32x4.swizzle(i,1,1,1,1))),o=SIMD.Float32x4.load(e,8),SIMD.Float32x4.store(t,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(i,2,2,2,2))),t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},a.scale=n.USE_SIMD?a.SIMD.scale:a.scalar.scale,a.rotate=function(t,e,r,a){var o,i,u,l,s,c,f,h,M,p,m,d,v,b,y,x,S,I,g,w,D,F,k,O,_=a[0],E=a[1],A=a[2],P=Math.sqrt(_*_+E*E+A*A);return Math.abs(P)<n.EPSILON?null:(P=1/P,_*=P,E*=P,A*=P,o=Math.sin(r),i=Math.cos(r),u=1-i,l=e[0],s=e[1],c=e[2],f=e[3],h=e[4],M=e[5],p=e[6],m=e[7],d=e[8],v=e[9],b=e[10],y=e[11],x=_*_*u+i,S=E*_*u+A*o,I=A*_*u-E*o,g=_*E*u-A*o,w=E*E*u+i,D=A*E*u+_*o,F=_*A*u+E*o,k=E*A*u-_*o,O=A*A*u+i,t[0]=l*x+h*S+d*I,t[1]=s*x+M*S+v*I,t[2]=c*x+p*S+b*I,t[3]=f*x+m*S+y*I,t[4]=l*g+h*w+d*D,t[5]=s*g+M*w+v*D,t[6]=c*g+p*w+b*D,t[7]=f*g+m*w+y*D,t[8]=l*F+h*k+d*O,t[9]=s*F+M*k+v*O,t[10]=c*F+p*k+b*O,t[11]=f*F+m*k+y*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)},a.scalar.rotateX=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[4],i=e[5],u=e[6],l=e[7],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*a+s*n,t[5]=i*a+c*n,t[6]=u*a+f*n,t[7]=l*a+h*n,t[8]=s*a-o*n,t[9]=c*a-i*n,t[10]=f*a-u*n,t[11]=h*a-l*n,t},a.SIMD.rotateX=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),a=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,4),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,n))),t},a.rotateX=n.USE_SIMD?a.SIMD.rotateX:a.scalar.rotateX,a.scalar.rotateY=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],l=e[3],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a-s*n,t[1]=i*a-c*n,t[2]=u*a-f*n,t[3]=l*a-h*n,t[8]=o*n+s*a,t[9]=i*n+c*a,t[10]=u*n+f*a,t[11]=l*n+h*a,t},a.SIMD.rotateY=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),a=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,8);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,n))),SIMD.Float32x4.store(t,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(i,a))),t},a.rotateY=n.USE_SIMD?a.SIMD.rotateY:a.scalar.rotateY,a.scalar.rotateZ=function(t,e,r){var n=Math.sin(r),a=Math.cos(r),o=e[0],i=e[1],u=e[2],l=e[3],s=e[4],c=e[5],f=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*a+s*n,t[1]=i*a+c*n,t[2]=u*a+f*n,t[3]=l*a+h*n,t[4]=s*a-o*n,t[5]=c*a-i*n,t[6]=f*a-u*n,t[7]=h*a-l*n,t},a.SIMD.rotateZ=function(t,e,r){var n=SIMD.Float32x4.splat(Math.sin(r)),a=SIMD.Float32x4.splat(Math.cos(r));e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);var o=SIMD.Float32x4.load(e,0),i=SIMD.Float32x4.load(e,4);return SIMD.Float32x4.store(t,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,a),SIMD.Float32x4.mul(i,n))),SIMD.Float32x4.store(t,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(i,a),SIMD.Float32x4.mul(o,n))),t},a.rotateZ=n.USE_SIMD?a.SIMD.rotateZ:a.scalar.rotateZ,a.fromTranslation=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},a.fromScaling=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotation=function(t,e,r){var a,o,i,u=r[0],l=r[1],s=r[2],c=Math.sqrt(u*u+l*l+s*s);return Math.abs(c)<n.EPSILON?null:(c=1/c,u*=c,l*=c,s*=c,a=Math.sin(e),o=Math.cos(e),i=1-o,t[0]=u*u*i+o,t[1]=l*u*i+s*a,t[2]=s*u*i-l*a,t[3]=0,t[4]=u*l*i-s*a,t[5]=l*l*i+o,t[6]=s*l*i+u*a,t[7]=0,t[8]=u*s*i+l*a,t[9]=l*s*i-u*a,t[10]=s*s*i+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},a.fromXRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromYRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromZRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.fromRotationTranslation=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=n+n,l=a+a,s=o+o,c=n*u,f=n*l,h=n*s,M=a*l,p=a*s,m=o*s,d=i*u,v=i*l,b=i*s;return t[0]=1-(M+m),t[1]=f+b,t[2]=h-v,t[3]=0,t[4]=f-b,t[5]=1-(c+m),t[6]=p+d,t[7]=0,t[8]=h+v,t[9]=p-d,t[10]=1-(c+M),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},a.getTranslation=function(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t},a.getRotation=function(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,
t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t},a.fromRotationTranslationScale=function(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3],l=a+a,s=o+o,c=i+i,f=a*l,h=a*s,M=a*c,p=o*s,m=o*c,d=i*c,v=u*l,b=u*s,y=u*c,x=n[0],S=n[1],I=n[2];return t[0]=(1-(p+d))*x,t[1]=(h+y)*x,t[2]=(M-b)*x,t[3]=0,t[4]=(h-y)*S,t[5]=(1-(f+d))*S,t[6]=(m+v)*S,t[7]=0,t[8]=(M+b)*I,t[9]=(m-v)*I,t[10]=(1-(f+p))*I,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},a.fromRotationTranslationScaleOrigin=function(t,e,r,n,a){var o=e[0],i=e[1],u=e[2],l=e[3],s=o+o,c=i+i,f=u+u,h=o*s,M=o*c,p=o*f,m=i*c,d=i*f,v=u*f,b=l*s,y=l*c,x=l*f,S=n[0],I=n[1],g=n[2],w=a[0],D=a[1],F=a[2];return t[0]=(1-(m+v))*S,t[1]=(M+x)*S,t[2]=(p-y)*S,t[3]=0,t[4]=(M-x)*I,t[5]=(1-(h+v))*I,t[6]=(d+b)*I,t[7]=0,t[8]=(p+y)*g,t[9]=(d-b)*g,t[10]=(1-(h+m))*g,t[11]=0,t[12]=r[0]+w-(t[0]*w+t[4]*D+t[8]*F),t[13]=r[1]+D-(t[1]*w+t[5]*D+t[9]*F),t[14]=r[2]+F-(t[2]*w+t[6]*D+t[10]*F),t[15]=1,t},a.fromQuat=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r+r,u=n+n,l=a+a,s=r*i,c=n*i,f=n*u,h=a*i,M=a*u,p=a*l,m=o*i,d=o*u,v=o*l;return t[0]=1-f-p,t[1]=c+v,t[2]=h-d,t[3]=0,t[4]=c-v,t[5]=1-s-p,t[6]=M+m,t[7]=0,t[8]=h+d,t[9]=M-m,t[10]=1-s-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},a.frustum=function(t,e,r,n,a,o,i){var u=1/(r-e),l=1/(a-n),s=1/(o-i);return t[0]=2*o*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*l,t[6]=0,t[7]=0,t[8]=(r+e)*u,t[9]=(a+n)*l,t[10]=(i+o)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*o*2*s,t[15]=0,t},a.perspective=function(t,e,r,n,a){var o=1/Math.tan(e/2),i=1/(n-a);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(a+n)*i,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*a*n*i,t[15]=0,t},a.perspectiveFromFieldOfView=function(t,e,r,n){var a=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),i=Math.tan(e.leftDegrees*Math.PI/180),u=Math.tan(e.rightDegrees*Math.PI/180),l=2/(i+u),s=2/(a+o);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=-((i-u)*l*.5),t[9]=(a-o)*s*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t},a.ortho=function(t,e,r,n,a,o,i){var u=1/(e-r),l=1/(n-a),s=1/(o-i);return t[0]=-2*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*s,t[11]=0,t[12]=(e+r)*u,t[13]=(a+n)*l,t[14]=(i+o)*s,t[15]=1,t},a.lookAt=function(t,e,r,o){var i,u,l,s,c,f,h,M,p,m,d=e[0],v=e[1],b=e[2],y=o[0],x=o[1],S=o[2],I=r[0],g=r[1],w=r[2];return Math.abs(d-I)<n.EPSILON&&Math.abs(v-g)<n.EPSILON&&Math.abs(b-w)<n.EPSILON?a.identity(t):(h=d-I,M=v-g,p=b-w,m=1/Math.sqrt(h*h+M*M+p*p),h*=m,M*=m,p*=m,i=x*p-S*M,u=S*h-y*p,l=y*M-x*h,m=Math.sqrt(i*i+u*u+l*l),m?(m=1/m,i*=m,u*=m,l*=m):(i=0,u=0,l=0),s=M*l-p*u,c=p*i-h*l,f=h*u-M*i,m=Math.sqrt(s*s+c*c+f*f),m?(m=1/m,s*=m,c*=m,f*=m):(s=0,c=0,f=0),t[0]=i,t[1]=s,t[2]=h,t[3]=0,t[4]=u,t[5]=c,t[6]=M,t[7]=0,t[8]=l,t[9]=f,t[10]=p,t[11]=0,t[12]=-(i*d+u*v+l*b),t[13]=-(s*d+c*v+f*b),t[14]=-(h*d+M*v+p*b),t[15]=1,t)},a.str=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},a.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t},a.sub=a.subtract,a.multiplyScalar=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t},a.multiplyScalarAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]},a.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=t[9],M=t[10],p=t[11],m=t[12],d=t[13],v=t[14],b=t[15],y=e[0],x=e[1],S=e[2],I=e[3],g=e[4],w=e[5],D=e[6],F=e[7],k=e[8],O=e[9],_=e[10],E=e[11],A=e[12],P=e[13],z=e[14],R=e[15];return Math.abs(r-y)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(a-x)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(o-S)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(i-I)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(I))&&Math.abs(u-g)<=n.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(l-w)<=n.EPSILON*Math.max(1,Math.abs(l),Math.abs(w))&&Math.abs(s-D)<=n.EPSILON*Math.max(1,Math.abs(s),Math.abs(D))&&Math.abs(c-F)<=n.EPSILON*Math.max(1,Math.abs(c),Math.abs(F))&&Math.abs(f-k)<=n.EPSILON*Math.max(1,Math.abs(f),Math.abs(k))&&Math.abs(h-O)<=n.EPSILON*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(M-_)<=n.EPSILON*Math.max(1,Math.abs(M),Math.abs(_))&&Math.abs(p-E)<=n.EPSILON*Math.max(1,Math.abs(p),Math.abs(E))&&Math.abs(m-A)<=n.EPSILON*Math.max(1,Math.abs(m),Math.abs(A))&&Math.abs(d-P)<=n.EPSILON*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(v-z)<=n.EPSILON*Math.max(1,Math.abs(v),Math.abs(z))&&Math.abs(b-R)<=n.EPSILON*Math.max(1,Math.abs(b),Math.abs(R))},t.exports=a},function(t,e,r){var n=r(1),a=r(4),o=r(7),i=r(8),u={};u.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.rotationTo=function(){var t=o.create(),e=o.fromValues(1,0,0),r=o.fromValues(0,1,0);return function(n,a,i){var l=o.dot(a,i);return-.999999>l?(o.cross(t,e,a),o.length(t)<1e-6&&o.cross(t,r,a),o.normalize(t,t),u.setAxisAngle(n,t,Math.PI),n):l>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(o.cross(t,a,i),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+l,u.normalize(n,n))}}(),u.setAxes=function(){var t=a.create();return function(e,r,n,a){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=a[0],t[4]=a[1],t[7]=a[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],u.normalize(e,u.fromMat3(e,t))}}(),u.clone=i.clone,u.fromValues=i.fromValues,u.copy=i.copy,u.set=i.set,u.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},u.setAxisAngle=function(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t},u.getAxisAngle=function(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r},u.add=i.add,u.multiply=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3],u=r[0],l=r[1],s=r[2],c=r[3];return t[0]=n*c+i*u+a*s-o*l,t[1]=a*c+i*l+o*u-n*s,t[2]=o*c+i*s+n*l-a*u,t[3]=i*c-n*u-a*l-o*s,t},u.mul=u.multiply,u.scale=i.scale,u.rotateX=function(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),l=Math.cos(r);return t[0]=n*l+i*u,t[1]=a*l+o*u,t[2]=o*l-a*u,t[3]=i*l-n*u,t},u.rotateY=function(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),l=Math.cos(r);return t[0]=n*l-o*u,t[1]=a*l+i*u,t[2]=o*l+n*u,t[3]=i*l-a*u,t},u.rotateZ=function(t,e,r){r*=.5;var n=e[0],a=e[1],o=e[2],i=e[3],u=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*u,t[1]=a*l-n*u,t[2]=o*l+i*u,t[3]=i*l-o*u,t},u.calculateW=function(t,e){var r=e[0],n=e[1],a=e[2];return t[0]=r,t[1]=n,t[2]=a,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-a*a)),t},u.dot=i.dot,u.lerp=i.lerp,u.slerp=function(t,e,r,n){var a,o,i,u,l,s=e[0],c=e[1],f=e[2],h=e[3],M=r[0],p=r[1],m=r[2],d=r[3];return o=s*M+c*p+f*m+h*d,0>o&&(o=-o,M=-M,p=-p,m=-m,d=-d),1-o>1e-6?(a=Math.acos(o),i=Math.sin(a),u=Math.sin((1-n)*a)/i,l=Math.sin(n*a)/i):(u=1-n,l=n),t[0]=u*s+l*M,t[1]=u*c+l*p,t[2]=u*f+l*m,t[3]=u*h+l*d,t},u.sqlerp=function(){var t=u.create(),e=u.create();return function(r,n,a,o,i,l){return u.slerp(t,n,i,l),u.slerp(e,a,o,l),u.slerp(r,t,e,2*l*(1-l)),r}}(),u.invert=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o,u=i?1/i:0;return t[0]=-r*u,t[1]=-n*u,t[2]=-a*u,t[3]=o*u,t},u.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t},u.length=i.length,u.len=u.length,u.squaredLength=i.squaredLength,u.sqrLen=u.squaredLength,u.normalize=i.normalize,u.fromMat3=function(t,e){var r,n=e[0]+e[4]+e[8];if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{var a=0;e[4]>e[0]&&(a=1),e[8]>e[3*a+a]&&(a=2);var o=(a+1)%3,i=(a+2)%3;r=Math.sqrt(e[3*a+a]-e[3*o+o]-e[3*i+i]+1),t[a]=.5*r,r=.5/r,t[3]=(e[3*o+i]-e[3*i+o])*r,t[o]=(e[3*o+a]+e[3*a+o])*r,t[i]=(e[3*i+a]+e[3*a+i])*r}return t},u.str=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},u.exactEquals=i.exactEquals,u.equals=i.equals,t.exports=u},function(t,e,r){var n=r(1),a={};a.create=function(){var t=new n.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t},a.clone=function(t){var e=new n.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},a.fromValues=function(t,e,r){var a=new n.ARRAY_TYPE(3);return a[0]=t,a[1]=e,a[2]=r,a},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},a.set=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},a.sub=a.subtract,a.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t},a.mul=a.multiply,a.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t},a.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t},a.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t},a.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},a.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t},a.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return Math.sqrt(r*r+n*n+a*a)},a.dist=a.distance,a.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2];return r*r+n*n+a*a},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)},a.len=a.length,a.squaredLength=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t},a.normalize=function(t,e){var r=e[0],n=e[1],a=e[2],o=r*r+n*n+a*a;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},a.cross=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],l=r[2];return t[0]=a*l-o*u,t[1]=o*i-n*l,t[2]=n*u-a*i,t},a.lerp=function(t,e,r,n){var a=e[0],o=e[1],i=e[2];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t[2]=i+n*(r[2]-i),t},a.hermite=function(t,e,r,n,a,o){var i=o*o,u=i*(2*o-3)+1,l=i*(o-2)+o,s=i*(o-1),c=i*(3-2*o);return t[0]=e[0]*u+r[0]*l+n[0]*s+a[0]*c,t[1]=e[1]*u+r[1]*l+n[1]*s+a[1]*c,t[2]=e[2]*u+r[2]*l+n[2]*s+a[2]*c,t},a.bezier=function(t,e,r,n,a,o){var i=1-o,u=i*i,l=o*o,s=u*i,c=3*o*u,f=3*l*i,h=l*o;return t[0]=e[0]*s+r[0]*c+n[0]*f+a[0]*h,t[1]=e[1]*s+r[1]*c+n[1]*f+a[1]*h,t[2]=e[2]*s+r[2]*c+n[2]*f+a[2]*h,t},a.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI,a=2*n.RANDOM()-1,o=Math.sqrt(1-a*a)*e;return t[0]=Math.cos(r)*o,t[1]=Math.sin(r)*o,t[2]=a*e,t},a.transformMat4=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[3]*n+r[7]*a+r[11]*o+r[15];return i=i||1,t[0]=(r[0]*n+r[4]*a+r[8]*o+r[12])/i,t[1]=(r[1]*n+r[5]*a+r[9]*o+r[13])/i,t[2]=(r[2]*n+r[6]*a+r[10]*o+r[14])/i,t},a.transformMat3=function(t,e,r){var n=e[0],a=e[1],o=e[2];return t[0]=n*r[0]+a*r[3]+o*r[6],t[1]=n*r[1]+a*r[4]+o*r[7],t[2]=n*r[2]+a*r[5]+o*r[8],t},a.transformQuat=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],l=r[2],s=r[3],c=s*n+u*o-l*a,f=s*a+l*n-i*o,h=s*o+i*a-u*n,M=-i*n-u*a-l*o;return t[0]=c*s+M*-i+f*-l-h*-u,t[1]=f*s+M*-u+h*-i-c*-l,t[2]=h*s+M*-l+c*-u-f*-i,t},a.rotateX=function(t,e,r,n){var a=[],o=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],o[0]=a[0],o[1]=a[1]*Math.cos(n)-a[2]*Math.sin(n),o[2]=a[1]*Math.sin(n)+a[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},a.rotateY=function(t,e,r,n){var a=[],o=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],o[0]=a[2]*Math.sin(n)+a[0]*Math.cos(n),o[1]=a[1],o[2]=a[2]*Math.cos(n)-a[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},a.rotateZ=function(t,e,r,n){var a=[],o=[];return a[0]=e[0]-r[0],a[1]=e[1]-r[1],a[2]=e[2]-r[2],o[0]=a[0]*Math.cos(n)-a[1]*Math.sin(n),o[1]=a[0]*Math.sin(n)+a[1]*Math.cos(n),o[2]=a[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t},a.forEach=function(){var t=a.create();return function(e,r,n,a,o,i){var u,l;for(r||(r=3),n||(n=0),l=a?Math.min(a*r+n,e.length):e.length,u=n;l>u;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2];return e}}(),a.angle=function(t,e){var r=a.fromValues(t[0],t[1],t[2]),n=a.fromValues(e[0],e[1],e[2]);a.normalize(r,r),a.normalize(n,n);var o=a.dot(r,n);return o>1?0:Math.acos(o)},a.str=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},a.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=e[0],u=e[1],l=e[2];return Math.abs(r-i)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(a-u)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(o-l)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(l))},t.exports=a},function(t,e,r){var n=r(1),a={};a.create=function(){var t=new n.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},a.clone=function(t){var e=new n.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},a.fromValues=function(t,e,r,a){var o=new n.ARRAY_TYPE(4);return o[0]=t,o[1]=e,o[2]=r,o[3]=a,o},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t},a.set=function(t,e,r,n,a){return t[0]=e,t[1]=r,t[2]=n,t[3]=a,t},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t},a.sub=a.subtract,a.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t},a.mul=a.multiply,a.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},a.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t},a.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},a.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},a.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t},a.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return Math.sqrt(r*r+n*n+a*a+o*o)},a.dist=a.distance,a.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],a=e[2]-t[2],o=e[3]-t[3];return r*r+n*n+a*a+o*o},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],r=t[1],n=t[2],a=t[3];return Math.sqrt(e*e+r*r+n*n+a*a)},a.len=a.length,a.squaredLength=function(t){var e=t[0],r=t[1],n=t[2],a=t[3];return e*e+r*r+n*n+a*a},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},a.normalize=function(t,e){var r=e[0],n=e[1],a=e[2],o=e[3],i=r*r+n*n+a*a+o*o;return i>0&&(i=1/Math.sqrt(i),t[0]=r*i,t[1]=n*i,t[2]=a*i,t[3]=o*i),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},a.lerp=function(t,e,r,n){var a=e[0],o=e[1],i=e[2],u=e[3];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t[2]=i+n*(r[2]-i),t[3]=u+n*(r[3]-u),t},a.random=function(t,e){return e=e||1,t[0]=n.RANDOM(),t[1]=n.RANDOM(),t[2]=n.RANDOM(),t[3]=n.RANDOM(),a.normalize(t,t),a.scale(t,t,e),t},a.transformMat4=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=e[3];return t[0]=r[0]*n+r[4]*a+r[8]*o+r[12]*i,t[1]=r[1]*n+r[5]*a+r[9]*o+r[13]*i,t[2]=r[2]*n+r[6]*a+r[10]*o+r[14]*i,t[3]=r[3]*n+r[7]*a+r[11]*o+r[15]*i,t},a.transformQuat=function(t,e,r){var n=e[0],a=e[1],o=e[2],i=r[0],u=r[1],l=r[2],s=r[3],c=s*n+u*o-l*a,f=s*a+l*n-i*o,h=s*o+i*a-u*n,M=-i*n-u*a-l*o;return t[0]=c*s+M*-i+f*-l-h*-u,t[1]=f*s+M*-u+h*-i-c*-l,t[2]=h*s+M*-l+c*-u-f*-i,t[3]=e[3],t},a.forEach=function(){var t=a.create();return function(e,r,n,a,o,i){var u,l;for(r||(r=4),n||(n=0),l=a?Math.min(a*r+n,e.length):e.length,u=n;l>u;u+=r)t[0]=e[u],t[1]=e[u+1],t[2]=e[u+2],t[3]=e[u+3],o(t,t,i),e[u]=t[0],e[u+1]=t[1],e[u+2]=t[2],e[u+3]=t[3];return e}}(),a.str=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]},a.equals=function(t,e){var r=t[0],a=t[1],o=t[2],i=t[3],u=e[0],l=e[1],s=e[2],c=e[3];return Math.abs(r-u)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(a-l)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(o-s)<=n.EPSILON*Math.max(1,Math.abs(o),Math.abs(s))&&Math.abs(i-c)<=n.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))},t.exports=a},function(t,e,r){var n=r(1),a={};a.create=function(){var t=new n.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},a.clone=function(t){var e=new n.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},a.fromValues=function(t,e){var r=new n.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r},a.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},a.set=function(t,e,r){return t[0]=e,t[1]=r,t},a.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t},a.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t},a.sub=a.subtract,a.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t},a.mul=a.multiply,a.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t},a.div=a.divide,a.ceil=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t},a.floor=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t},a.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t},a.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t},a.round=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t},a.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t},a.scaleAndAdd=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t},a.distance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)},a.dist=a.distance,a.squaredDistance=function(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n},a.sqrDist=a.squaredDistance,a.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)},a.len=a.length,a.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r},a.sqrLen=a.squaredLength,a.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},a.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t},a.normalize=function(t,e){var r=e[0],n=e[1],a=r*r+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},a.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},a.cross=function(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t},a.lerp=function(t,e,r,n){var a=e[0],o=e[1];return t[0]=a+n*(r[0]-a),t[1]=o+n*(r[1]-o),t},a.random=function(t,e){e=e||1;var r=2*n.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t},a.transformMat2=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a,t[1]=r[1]*n+r[3]*a,t},a.transformMat2d=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[2]*a+r[4],t[1]=r[1]*n+r[3]*a+r[5],t},a.transformMat3=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[3]*a+r[6],t[1]=r[1]*n+r[4]*a+r[7],t},a.transformMat4=function(t,e,r){var n=e[0],a=e[1];return t[0]=r[0]*n+r[4]*a+r[12],t[1]=r[1]*n+r[5]*a+r[13],t},a.forEach=function(){var t=a.create();return function(e,r,n,a,o,i){var u,l;for(r||(r=2),n||(n=0),l=a?Math.min(a*r+n,e.length):e.length,u=n;l>u;u+=r)t[0]=e[u],t[1]=e[u+1],o(t,t,i),e[u]=t[0],e[u+1]=t[1];return e}}(),a.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},a.exactEquals=function(t,e){return t[0]===e[0]&&t[1]===e[1]},a.equals=function(t,e){var r=t[0],a=t[1],o=e[0],i=e[1];return Math.abs(r-o)<=n.EPSILON*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(a-i)<=n.EPSILON*Math.max(1,Math.abs(a),Math.abs(i))},t.exports=a}])})}).call(e,r(18)(t))},function(t,e){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(17),i=r(12);t.exports=function(){function t(){n(this,t),this.translateX=new i(0),this.translateY=new i(0),this.translateZ=new i(0),this.rotateX=new i(0),this.rotateY=new i(0),this.rotateZ=new i(0),this.skewX=new i(0),this.skewY=new i(0),this.skewZ=new i(0),this.scaleX=new i(1),this.scaleY=new i(1),this.scaleZ=new i(1)}return a(t,[{key:"getMatrix",value:function(t,e){var r=o.mat3.create(),n=this.translateX.getValue(t,e),a=this.translateY.getValue(t,e),i=this.rotateZ.getValue(t,e),u=this.skewX.getValue(t,e),l=this.skewY.getValue(t,e),s=this.scaleX.getValue(t,e),c=this.scaleY.getValue(t,e);o.mat3.translate(r,r,[n,a]),o.mat3.rotate(r,r,i),o.mat3.scale(r,r,[s,c]);var f=o.mat3.fromValues(1,l,0,u,1,0,0,0,1);return o.mat3.multiply(r,r,f),r}}]),t}()},function(t,e){"use strict";t.exports={setTransformMatrix:function(t,e){t.setTransform(e[0],e[1],e[3],e[4],e[6],e[7])},resetCtx:function(t){t.direction="inherit",t.fillStyle="#000",t.filter="none",t.font="10px sans-serif",t.globalAlpha=1,t.globalCompositeOperation="source-over",t.imageSmoothingEnabled=!0,t.lineCap="butt",t.lineDashOffset=0,t.lineJoin="miter",t.miterLimit=10,t.shadowBlur=0,t.shadowColor="rgba(0, 0, 0, 0)",t.shadowOffsetX=0,t.shadowOffsetY=0,t.strokeStyle="#000",t.textAlign="start",t.textBaseline="alphabetic",t.setLineDash([])}}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(14),l=[1,0,0,0,1,0,0,0,1];t.exports=function(t){function e(t){n(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.currentTime=0,r.playbackRate=1,r.paused=!0,r.duration=null,r.loop=!1,r.timeoutFunction="undefined"!=typeof window?function(t){return window.requestAnimationFrame(t)}:function(t){return setTimeout(t,16.7)},r.lastLoopTime=0,r.ctx=t||null,r.running=!1,r.markers=new Map,r}return o(e,t),i(e,[{key:"drawLoop",value:function(){var t=this;this.running&&this.timeoutFunction(function(){return t.drawLoop()});var e=Date.now(),r=(e-this.lastLoopTime)/1e3;if(this.lastLoopTime=e,!this.paused){var n=this.currentTime;this.currentTime+=r*this.playbackRate;var a=this.currentTime>n?n:this.currentTime,o=this.currentTime<n?n:this.currentTime,i=null,u=!0,s=!1,c=void 0;try{for(var f,h=this.markers.entries()[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var M=f.value;if(a<M[0]&&M[0]<o){i=M;break}}}catch(t){s=!0,c=t}finally{try{!u&&h.return&&h.return()}finally{if(s)throw c}}if(i){var p=i[1];0===p&&(this.currentTime=i[0],this.pause())}this.emit("timeupdate"),null!==this.duration&&this.currentTime>=this.duration&&(this.loop?this.currentTime=0:(this.currentTime=this.duration,this.pause(),this.emit("end"))),this.playbackRate<0&&this.currentTime<=0&&(this.loop&&null!==this.duration?this.currentTime=this.duration:(this.currentTime=0,this.pause(),this.emit("end")))}this.ctx&&(this.draw(this.ctx,l,this.currentTime,r),this.emit("loopend"))}},{key:"play",value:function(){return!!this.paused&&(this.paused=!1,this.emit("play"),!0)}},{key:"pause",value:function(){return!this.paused&&(this.paused=!0,this.emit("pause"),!0)}},{key:"run",value:function(){return!this.running&&(this.running=!0,this.lastLoopTime=Date.now(),this.drawLoop(),this.emit("run"),!0)}},{key:"stop",value:function(){return!!this.running&&(this.running=!1,this.emit("stop"),!0)}},{key:"drawSelf",value:function(t,e,r,n){}}]),e}(u)},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(17),l=r(14),s=r(20);t.exports=function(t){function e(){n(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.width=960,t.height=540,t.canvasWidth=960,t.canvasHeight=540,t.canvasScale=1,t.contentSize="contain",t.backgroundColor="",t.marginColor="",t}return o(e,t),i(e,[{key:"getContentPos",value:function(){var t=1;if("contain"===this.contentSize)t=Math.min(this.canvasWidth/this.width,this.canvasHeight/this.height);else{if("cover"!==this.contentSize)return{x:0,y:0,scale:0};t=Math.max(this.canvasWidth/this.width,this.canvasHeight/this.height)}var e=(this.canvasWidth-this.width*t)/2,r=(this.canvasHeight-this.height*t)/2;return{x:e,y:r,scale:t}}},{key:"draw",value:function(t,e,r,n){var a=this.transform.getMatrix(r,n),o=u.mat3.create();u.mat3.multiply(o,e,a);var i=this.getContentPos(),l=this.canvasScale;u.mat3.translate(o,o,[i.x*l,i.y*l]),u.mat3.scale(o,o,[i.scale*l,i.scale*l]),this.drawSelf(t,o,r,n),t.save(),this.drawChildren(t,o,r,n),t.restore(),this.drawMargin(t,o,r,n)}},{key:"drawSelf",value:function(t,e,r,n){t.globalAlpha=1;var a=this.canvasScale;s.resetCtx(t),t.resetTransform(),t.clearRect(0,0,this.canvasWidth*a,this.canvasHeight*a);var o=this.getContentPos();t.clearRect(o.x*a,o.y*a,o.scale*this.width*a,o.scale*this.height*a),this.backgroundColor&&(t.fillStyle=this.backgroundColor,t.fillRect(o.x*a,o.y*a,o.scale*this.width*a,o.scale*this.height*a))}},{key:"drawMargin",value:function(t,e,r,n){t.globalAlpha=1;var a=this.canvasScale;s.resetCtx(t),t.resetTransform();var o=this.getContentPos();t.fillStyle=this.marginColor;var i=!!this.marginColor;o.x>0&&(t.clearRect(0,0,o.x*a,this.canvasHeight*a),i&&t.fillRect(0,0,o.x*a,this.canvasHeight*a),t.clearRect((this.canvasWidth-o.x)*a,0,o.x*a,this.canvasHeight*a),i&&t.fillRect((this.canvasWidth-o.x)*a,0,o.x*a,this.canvasHeight*a)),o.y>0&&(t.clearRect(o.x*a,0,(this.canvasWidth-2*o.x)*a,o.y*a),i&&t.fillRect(o.x*a,0,(this.canvasWidth-2*o.x)*a,o.y*a),t.clearRect(o.x*a,(this.canvasHeight-o.y)*a,(this.canvasWidth-2*o.x)*a,o.y*a),i&&t.clearRect(o.x*a,(this.canvasHeight-o.y)*a,(this.canvasWidth-2*o.x)*a,o.y*a))}}]),e}(l)},function(t,e,r){"use strict";t.exports={ClippedText:r(24),ClippedContainer:r(25)}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(2);t.exports=function(t){function e(){n(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.text=new u.AnimatedString(""),t.clip=new u.AnimatedNumber(0),t.skew=new u.AnimatedNumber(0),t.family=new u.AnimatedString("sans-serif"),t.weight=new u.AnimatedNumber(400),t.size=new u.AnimatedNumber(16),t.style=new u.AnimatedString("normal"),t.color=new u.AnimatedColor("#000"),t.align=new u.AnimatedString("center"),t.baseline=new u.AnimatedString("middle"),t.compensation=new u.AnimatedNumber(0),t}return o(e,t),i(e,[{key:"drawSelf",value:function(t,e,r,n){u.Utils.resetCtx(t),u.Utils.setTransformMatrix(t,e);var a=this.opacity.getValue(r,n),o=this.text.getValue(r,n),i=this.clip.getValue(r,n),l=this.family.getValue(r,n),s=100*Math.round(this.weight.getValue(r,n)/100),c=+this.size.getValue(r,n).toFixed(3),f=this.style.getValue(r,n),h=this.color.getValue(r,n),M=this.align.getValue(r,n),p=this.baseline.getValue(r,n),m=Math.tan(this.skew.getValue(r,n))*c*1.3,d=this.compensation.getValue(r,n),v=s+" "+f+" "+c+"px "+l;t.font=v;var b=t.measureText(o).width,y=-b/2+(b+m)*i,x=b/2+(b+m)*i,S=-c/2*1.3,I=c/2*1.3;"left"===M?t.translate(b/2,0):"right"===M&&t.translate(-b/2,0),"top"===p?t.translate(0,c/2):"bottom"===p&&t.translate(0,-c/2),t.translate(-b/2*i*d,0),t.save(),0!==i&&(t.beginPath(),t.moveTo(y,S),t.lineTo(x+m,S),t.lineTo(x,I),t.lineTo(y-m,I),t.closePath(),t.clip()),t.globalAlpha=a,t.textAlign="center",t.textBaseline="middle",t.fillStyle=h,t.fillText(o,0,0),t.restore()}}]),e}(u.Object)},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=r(2);t.exports=function(t){function e(){n(this,e);var t=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.clip=function(){},t}return o(e,t),i(e,[{key:"drawChildren",value:function(t,e,r,n){var a=this.sortChildren(r,n),o=a.values,i=a.children;t.save(),this.clip(t,e,r,n);var u=!0,l=!1,s=void 0;try{for(var c,f=i[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var h=c.value;o.get(h)[1]===!0&&h.draw(t,e,r,n)}}catch(t){l=!0,s=t}finally{try{!u&&f.return&&f.return()}finally{if(l)throw s}}t.restore()}},{key:"drawSelf",value:function(){}}]),e}(u.Object)}]);