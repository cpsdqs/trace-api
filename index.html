<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Trace</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <div id="main">
      <div id="top">
        <canvas id="top-canvas"></canvas>
        <div id="scroll-indicator">
          
        </div>
      </div>
      <div id="content-wrap">
        <div id="content">
          <h1>Example</h1>
          <pre><code class="language-js">// Draw an expanding white circle

// Define a circle class
class Circle extends Trace.Object {
  constructor () {
    super()

    // create an animatable property with default value 100
    this.radius = new Trace.AnimatedNumber(100)

    // another for color
    this.color = new Trace.AnimatedColor('#fff')
  }
  // called each frame
  drawSelf (ctx, transform, currentTime, deltaTime) {
    // apply parent's and own transform
    Trace.Utils.setTransformMatrix(ctx, transform)

    // get value for properties at current time
    const radius = this.radius.getValue(currentTime, deltaTime)
    const color = this.color.getValue(currentTime, deltaTime)

    ctx.fillStyle = color
    ctx.beginPath()
    // arc at (0, 0) as the transform will have been applied
    ctx.arc(0, 0, radius, 0, Math.PI * 2)
    ctx.fill()
  }
}

// create a new canvas
const canvas = document.createElement('canvas')
document.body.appendChild(canvas)
canvas.width = 960
canvas.height = 540
// create a new timeline bound to the canvas' context
const timeline = new Trace.Timeline(canvas.getContext('2d'))
// create a new viewport and add it to the timeline
const viewport = new Trace.Viewport()
timeline.addChild(viewport)
// canvas size
viewport.canvasWidth = canvas.width
viewport.canvasHeight = canvas.height
// viewport size
viewport.width = 960
viewport.height = 540
// create a new circle
const circle = new Circle()
viewport.addChild(circle)
// center
circle.addKeys({
  transform: {
    translateX: 960 / 2,
    translateY: 540 / 2
  }
})
// animate expanding and changing color
circle.addKeys({
  radius: {
    // seconds, value, easing, [easing parameters]
    0: 0,
    1: [200, Trace.Easing.easeOutExpo]
  },
  color: {
    0: '#fff',
    1: '#f00'
  }
})

// start drawing
timeline.run()

// play animation
timeline.play()
          </code></pre>
          <h1>Result</h1>
          <canvas id="example-output"></canvas>
          <center>
            <a href="https://github.com/cpsdqs/trace-api/blob/master/docs/index.md"><h1>Documentation</h1></a>
          </center>
        </div>
      </div>
    </div>
    <!-- put more stuff here -->
    <script src="lib/trace.js"></script>
    <script src="index.js"></script>
    <link rel="stylesheet" href="lib/prism.css" />
    <script async src="lib/prism.js"></script>
  </body>
</html>
